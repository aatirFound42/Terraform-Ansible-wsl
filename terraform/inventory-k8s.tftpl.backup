# Kubernetes Multi-Master Inventory
# Generated by Terraform

[k8s_masters]
%{ for vm in masters ~}
${vm.name} ansible_host=${vm.ip} kubernetes_role=master
%{ endfor ~}

[k8s_workers]
%{ for vm in workers ~}
${vm.name} ansible_host=${vm.ip} kubernetes_role=worker
%{ endfor ~}

[k8s_cluster:children]
k8s_masters
k8s_workers

[k8s_primary_master]
${masters[0].name} ansible_host=${masters[0].ip}

[k8s_secondary_masters]
%{ for vm in slice(masters, 1, length(masters)) ~}
${vm.name} ansible_host=${vm.ip}
%{ endfor ~}

[all_vms:children]
k8s_masters
k8s_workers

[k8s_cluster:vars]
ansible_user=vagrant
ansible_ssh_private_key_file=~/.vagrant.d/insecure_private_key
ansible_python_interpreter=/usr/bin/python3
k8s_cni: "calico"
k8s_version=1.28.15-1.1
k8s_pod_network_cidr=10.244.0.0/16
k8s_service_cidr=10.96.0.0/12
control_plane_endpoint=${masters[0].ip}:6443
